<form (ngSubmit)="onSubmit()" #capsuleForm="ngForm">
  <div>
    <h1>Create Capsule</h1>
    <p>Welcome, {{ userName }}!</p>
    <div class="form-group">
      <label for="title">Title</label>
      <input
        id="title"
        [(ngModel)]="capsule.title"
        name="title"
        required
        placeholder="Enter capsule title"
      />
    </div>
    <div class="form-group">
      <label for="message">Your Message</label>
      <textarea
        id="message"
        [(ngModel)]="capsule.message"
        name="message"
        required
        rows="4"
        placeholder="Write your message here..."
      ></textarea>
    </div>
    <div class="form-group">
      <label for="lockDate">Date to Open</label>
      <input
        type="date"
        id="lockDate"
        [(ngModel)]="capsule.lockDate"
        name="lockDate"
        required
      />
    </div>
    <div class="form-group">
      <label for="recipientUsername">Receiver</label>
      <input
        id="recipientUsername"
        [(ngModel)]="capsule.recipientUsername"
        name="recipientUsername"
        required
        placeholder="Enter recipient username"
      />
    </div>

    <!-- New Section for Tag Selection -->
    <div class="form-group">
      <label>Select Tags</label>
      <div class="tags-container">
        <div *ngFor="let tag of availableTags" class="tag">
          <input
            type="checkbox"
            [id]="'tag-' + tag.tagID"
            [value]="tag.tagID"
            (change)="onTagSelection(tag.tagID)"
          />
          <label [for]="'tag-' + tag.tagID">{{ tag.tagName }}</label>
        </div>
      </div>
    </div>

    <button type="submit">Create Capsule</button>
    <button type="button" (click)="goBack()">Go Back</button>
  </div>
</form>

