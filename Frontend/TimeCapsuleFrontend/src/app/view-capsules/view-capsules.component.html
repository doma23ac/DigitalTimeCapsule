<div class="capsules-container">
  <h1 class="header">Capsules Ready to Open</h1>
  <p *ngIf="error" class="error">{{ error }}</p>

  <div *ngIf="!error && capsules.length === 0" class="no-capsules">
    <p>No capsules are ready to open at this time.</p>
  </div>

  <ul *ngIf="capsules.length > 0" class="capsules-list">
    <li *ngFor="let capsule of capsules" class="capsule-item">
      <div class="capsule-details">
        <strong>Title:</strong> {{ capsule.title }}<br />
        <strong>Sender:</strong> {{ capsule.senderUsername }}<br />
        <strong>Lock Date:</strong> {{ capsule.lockDate | date }}
      </div>

      <!-- Display tags as bubbles -->
      <div class="tags-container">
        <span *ngFor="let tag of capsule.tags" class="tag-bubble">{{ tag.tagName }}</span>
      </div>

      <button class="toggle-btn" (click)="toggleCapsuleMessage(capsule.capsuleID)">
        {{ expandedCapsuleID === capsule.capsuleID ? 'Hide Message' : 'Show Message' }}
      </button>

      <div *ngIf="expandedCapsuleID === capsule.capsuleID" class="capsule-message">
        <p><strong>Message:</strong> {{ capsule.message }}</p>
        <button class="open-btn" (click)="markCapsuleAsOpened(capsule)">Mark as Opened</button>
      </div>
    </li>
  </ul>
</div>


  
  