<div>
  <h1>Capsules Ready to Open</h1>
  <p *ngIf="error" class="error">{{ error }}</p>

  <div *ngIf="!error && capsules.length === 0">
    <p>No capsules are ready to open at this time.</p>
  </div>

  <ul *ngIf="capsules.length > 0">
    <li *ngFor="let capsule of capsules" class="capsule-item">
      <div>
        <strong>Title:</strong> {{ capsule.title }}<br />
        <strong>Sender:</strong> {{ capsule.senderUsername }}<br />
        <strong>Lock Date:</strong> {{ capsule.lockDate | date }}
      </div>
      <button (click)="toggleCapsuleMessage(capsule.capsuleID)">
        {{ expandedCapsuleID === capsule.capsuleID ? 'Hide Message' : 'Show Message' }}
      </button>
      <div *ngIf="expandedCapsuleID === capsule.capsuleID" class="capsule-message">
        <p><strong>Message:</strong> {{ capsule.message }}</p>
        <button (click)="markCapsuleAsOpened(capsule)">Mark as Opened</button>
      </div>
    </li>
  </ul>
</div>


  
  